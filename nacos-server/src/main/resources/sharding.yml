shardingRule:
  tables:
    t_user:
      actualDataNodes: ds${0..1}.t_user${0..1}
      databaseStrategy:
        inline:
          shardingColumn: user_id
          algorithmExpression: ds${user_id % 2}
      tableStrategy:
        inline:
          shardingColumn: user_id
          algorithmExpression: t_user${user_id % 2}

dataSources:
  ds0:
    driverClassName: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.01:3306/ds0?serverTimezone=Asia/Shanghai&useSSL=false&useUnicode=true&zeroDateTimeBehavior=convertToNull&autoReconnect=true&characterEncoding=utf-8
    username: root
    password: 123
    type: com.zaxxer.hikari.HikariDataSource
  ds1:
    driverClassName: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://127.0.01:3306/ds1?serverTimezone=Asia/Shanghai&useSSL=false&useUnicode=true&zeroDateTimeBehavior=convertToNull&autoReconnect=true&characterEncoding=utf-8
    username: root
    password: 123
    type: com.zaxxer.hikari.HikariDataSource

